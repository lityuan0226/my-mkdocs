{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"guide/api/","title":"API","text":"<p>The API of the passenger flow platform is a development system for VIONVISON Technology Co., Ltd. to obtain the original data of the equipment for users. After users choose to access the cloud platform,you can get data to other platform by the API.</p> <p>The API address is : <code>http://api.store.keliuyun.com</code><sup>1</sup></p>"},{"location":"guide/api/#1-login","title":"1. Login","text":"<p>You can use the user name and password to obtain the token through this interface. Other interfaces will use the token obtained here</p> <p>Notice</p> <p>The appkey is your company name\u3002Example\uff1avionvision</p> <p>| <code>Verb</code>: POST  | <code>Path</code>: api/v1/user/login  | <code>Header</code>: (Content-Type: application/json)  </p> <p>| Request Body</p> <pre><code>```json\n{\n    appkey:\"xxxxx\",                  // appkey,your company name\n    username:\"your username\",           //username\n    password:\"your password\"        //password\n}\n```\n</code></pre> <p>| Response Body: </p> <pre><code>```json\n{\n    atoken:\"2cb4ff2f-191a-4b7f-8ef4-7e59bb3d87f4\",     //token info\n    msg_code:200,                                      //request status\n    msg_info:\"Login Success\"\n}\n```\n</code></pre>"},{"location":"guide/api/#2-store-info-list","title":"2. Store Info List","text":"<p>You can get all stores through this interface.</p> <p>| <code>Verb</code>: GET  | <code>Path</code>: api/v1/base/plazaInfo  | <code>Header</code>: (authorization, {$atoken})</p> <p>| Request Params:    - None</p> <p>| Response Body:</p> <pre><code>```json\n{\n    msg_code: 200,\n    msg_info: \"this is info\",\n    data: [{\n        plaza_unid: \"1231233\",      //unid of store\uff0cGlobal unique identifier of store information\n        plaza_externalid: \"9876632\",    //The external code of the store is generally used to keep consistent with other system codes when interfacing with other systems.\n        plaza_name: \"store name\",       //store name\n        group_id:\"group id\",            //id of the group to which the store belongs\n        group_name:\"group name\",        //name of the group to which the store belongs\n        time_zone: \"+01:00\",            // time zone\n        \"business_start_time\": \"00:00:00\",  // business time\n        \"business_end_time\": \"00:00:00\"\n    },\n    {\n        plaza_unid: \"1231233\",\n        plaza_externalid: \"9876632\",\n        plaza_name: \"store name\",\n        group_id:\"group id\",\n        group_name:\"group name\",\n        time_zone: \"+01:00\",\n        \"business_start_time\": \"00:00:00\",\n        \"business_end_time\": \"00:00:00\"\n    },  \n    {\n        plaza_unid:\"1231233\",\n        plaza_externalid: \"9876632\",\n        plaza_name: \"store name\",\n        group_id:\"group id\",\n        group_name:\"group name\",\n        time_zone: \"+01:00\",\n        \"business_start_time\": \"00:00:00\",\n        \"business_end_time\": \"00:00:00\"\n    }]\n}\n```\n</code></pre>"},{"location":"guide/api/#3-store-entrance-info-list","title":"3. Store-Entrance Info List","text":"<p>You can get all stores-entrance through this interface.</p> <p>| <code>Verb</code>: GET | <code>Path</code>: api/v1/base/gateInfo | <code>Header</code>: (authorization, {$atoken}) | Request Params:</p> <ul> <li>plaza_unid: unid of store\u3002Example\uff1a8734758a-e0b0-11e8-b6e8-7cd30ac4c9a6</li> </ul> <p>| Response Body:</p> <pre><code>{\n    msg_code: 200,\n    msg_info: \"success\",\n    data: [{\n        plaza_unid: \"1231233\",      //unid of store\uff0cGlobal unique identifier of store information\n        gate_unid:\"456456\",     // unid of store-entrance. Global unique identifier of store-entrance\n        is_mall_gate: 1,    //The store-entrance type, 1-Store Main Entrance\n        gate_name: \"store-entrance name\",       //store-entrance name\n        gate_status:1,          // The store-entrance status, 1-Open\n    }\n}\n</code></pre>"},{"location":"guide/api/#4-store-counting-data-hourly","title":"4. Store Counting Data Hourly","text":"<p>You can get all the  counting data from this interface. Now only hourly data is ready. Notice: The params startTime and endTime must be in one day,if you want more data in serval days,you should call this interface more times.</p> <p>| <code>Verb</code>: GET  | <code>Path</code>: api/v1/face/storeCountingDataHourly  | <code>Header</code>: (authorization, {$atoken})  | Request Params:</p> <pre><code>- plaza_unid: unid of store\u3002Example\uff1a8734758a-e0b0-11e8-b6e8-7cd30ac4c9a6\n- startTime: start time of the data you need \u3002Example\uff1a\uff1a\"2019-01-01 10:00:00\"\n- endTime:  end time of the data you need \u3002Example\uff1a\"2019-01-01 22:00:00\"\n</code></pre> <p>| Response Body:</p> <pre><code>    {\n        msg_code: 200,\n        msg_info: \"Success\",\n        data: [{\n            plaza_unid: \"83c2266f-a29b-478a-8a59-2ed54e144641\",  // unid of store\n            countdate: \"2018-01-01\",                             // countdate\n            counttime: \"2018-01-01 10:00:00\",                    // counttime\n            innum: 45,                                           // Total Traffic IN\n            outnum: 48,                                          // Total Traffic OUT\n            customer: 31,                                        // Total Customer IN\n            customer_repeat: 10,                                 // Total Customer Repeats IN\n            customer_out: 34,                                    // Total Customer OUT\n            customer_out_repeat: 11,                             // Total Customer Repeats OUT\n            staff: 4,                                            // Total Staff IN\n            staff_out: 3,                                         // Total Staff OUT\n            adult: 4,\n            child: 3,\n            male: 3,\n            female: 4,\n            group: 3,\n            one_visitor_group: 0,\n            two_visitor_group: 0,\n            more_than_two_visitor_group: 0\n        }]\n    }\n</code></pre>"},{"location":"guide/api/#5-store-hourly-customer-segment-data","title":"5. Store Hourly Customer Segment Data","text":"<p>Two methods are available for obtaining store hourly customer segment data based on time parameters: 1.Retrieve data within a specific time frame using startTime and endTime. 2.Obtain data updated after a certain point in time using modifyTime. This data includes updates made within the last three days.</p> <p>| <code>Verb</code>: GET  | <code>Path</code>: api/v2/reid/plazaHour  | <code>Header</code>: (authorization, {$atoken})  | Request Params:     - plazaUnid: unid of store\u3002Example\uff1a8734758a-e0b0-11e8-b6e8-7cd30ac4c9a6     - startTime: start time of the data you need.Example\uff1a\uff1a\"2019-01-01 10:00:00\",              - endTime:  end time of the data you need.Example\uff1a\"2019-01-01 22:00:00\"         - modifyTime: the timestamp of the most recent data modification.Example\uff1a\"2019-01-01 23:00:00\"    -  | Response Body:</p> <pre><code>{\n    \"code\": 200,\n    \"msg\": \"\",\n    \"success\": true,\n    \"data\": [\n    {\n        \"plazaUnid\": \"83c2266f-a29b-478a-8a59-2ed54e144641\",       //Store unid\n        \"plazaExternalid\": \"\",                                     //Store external id\n        \"plazaName\": \"name\",                                    //Store name\n        \"countdate\": \"2018-01-01\",                                 //date\n        \"counttimeLocal\": \"2018-01-01 10:00:00\",                   //datetime\n        \"customerNum\": 100,                                        //Total Customer IN\n        \"gender\": {\n             \"maleCount\": 100,                                     //Total Male Customer IN\n             \"femaleCount\": 100                                    //Total Female Customer IN\n        },\n        \"age\": {\n            \"juvenile\": [100, 200],                                // age &lt; 18 [male,female]\n            \"youth\": [100, 200],                                   // 18 &lt;= age &lt; 45 [male,female]\n            \"middleAged\": [100, 200],                              // 45 &lt;= age &lt; 60 [male,female]\n            \"elderly\": [100, 200]                                  // age &gt;= 60 [male,female]\n        },\n        \"modifyTime\": \"2022-01-01 14:00:10\"\n    }\n    ... ...\n    ]\n}\n</code></pre>"},{"location":"guide/api/#6-store-dwelltime","title":"6. Store DwellTime","text":"<p>You can get Store DwellTime through this interface.</p> <p>The DwellTime will generate next day(T+1). For exmaple: <code>Today's</code> DwellTime data will generate <code>TOMORROW</code>.</p> <p>| <code>Verb</code>: GET  | <code>Path</code>: api/v2/reid/mallDwellTime  | <code>Header</code>: (authorization, {$atoken})  | Request Params:     - plazaUnid: unid of store\u3002Example\uff1a8734758a-e0b0-11e8-b6e8-7cd30ac4c9a6     - countdate: date \uff0cExample\uff1a2018-01-01  | Response Body:</p> <pre><code>{\n    \"code\": 200,\n    \"success\": true,\n    \"message\": \"success\",\n    \"data\": [\n        {\n            \"plazaUnid\": \"123123\",                         // Store unid\n            \"plazaName\": \"store name\",                     // Store name\n            \"countdate\": \"2018-01-01\",                     // date\n            \"totalDewellTime\": 295449,                     // The Store totaldwellTime(second)\n            \"dwellTime\": [\n                {\n                    \"dwellNum\": 46,                       // The Customer who's dewellTime in dwellTimeGroup\n                    \"dwellTimeGroup\": \"0-15\"              // The dweelTimeGroup 0-15(minute)\n                },\n                {\n                    \"dwellNum\": 17,\n                    \"dwellTimeGroup\": \"15-30\"\n                },\n                {\n                    \"dwellNum\": 9,\n                    \"dwellTimeGroup\": \"31-45\"\n                },\n                {\n                    \"dwellNum\": 10,\n                    \"dwellTimeGroup\": \"46-60\"\n                },\n                {\n                    \"dwellNum\": 9,\n                    \"dwellTimeGroup\": \"61-90\"\n                },\n                {\n                    \"dwellNum\": 16,\n                    \"dwellTimeGroup\": \"91+\"\n                }\n            ]\n        }\n    ]\n}\n</code></pre>"},{"location":"guide/api/#7-store-dwelltime-every-customer","title":"7. Store DwellTime (Every Customer)","text":"<p>You can get Store DwellTime of <code>every customer</code> that recognised through this interface.</p> <p>| <code>Verb</code>: GET  | <code>Path</code>: api/v1/residence/plazaResidence  | <code>Header</code>: (authorization, {$atoken})  | Request Params:     - plaza_unid: unid of store\u3002Example\uff1a8734758a-e0b0-11e8-b6e8-7cd30ac4c9a6     - countdate: date \uff0cExample\uff1a2018-01-01  | Response Body:</p> <pre><code>{\n        msg_code: 200,\n        msg_info: \"success\",\n        data: [\n        {\n            plaza_unid: \"d03ab9dc-9e78-11eb-a328-0017fa03adf3\",  // unid of store\uff0cGlobal unique identifier of store information\n            plaza_externalid:\"1001001001\",                      //The external code of the store is generally used to keep consistent with other system codes when interfacing with other systems.\n            person_unid\uff1a\"98a0da78-9fcf-4126-b10f-93ed4c0d2cec\", //unid of person(customer&amp;staff)\n            plaza_name: \"store name\",     //name of store\n            intime: \"2021-05-31 00:00:00\",     //when entry store\n            outtime: \"2021-05-31 00:00:10\",     //when exit store\n            residence_time: \"0\",  //dwell time\n            countdate: \"2021-05-31\"    //date\n        },\n        {\n            plaza_unid: \"d03ab9dc-9e78-11eb-a328-0017fa03adf3\",  // unid of store\uff0cGlobal unique identifier of store information\n            plaza_externalid:\"1001001001\",                      //The external code of the store is generally used to keep consistent with other system codes when interfacing with other systems.\n            person_unid\uff1a\"98a0da78-9fcf-4126-b10f-93ed4c0d2cec\", //unid of person(customer&amp;staff)\n            plaza_name: \"store name\",     //name of store\n            intime: \"2021-05-31 00:00:00\",     //when entry store\n            outtime: \"2021-05-31 00:00:10\",     //when exit store\n            residence_time: \"0\",  //dwell time\n            countdate: \"2021-05-31\"    //date\n        }\n    ]\n    }\n</code></pre>"},{"location":"guide/api/#8-store-entrance-counting-data-hourly","title":"8. Store-Entrance Counting Data Hourly","text":"<p>You can get all the  Store-Entrance counting data from this interface.</p> <p>The params startTime and endTime must be in one day And if you want more data in serval days,you should call this interface more times.</p> <p>| <code>Verb</code>: GET | <code>Path</code>: api/v1/passenger/gateHour | <code>Header</code>: (authorization, {$atoken}) | Request Params: </p> <pre><code>- plaza_unid: unid of store\u3002Example\uff1a8734758a-e0b0-11e8-b6e8-7cd30ac4c9a6\n- gate_unid: unid of entrance. Example: aaaaaa-bbbb-cccc-dddd-assassaas\n- startTime: start time of the data you need \u3002Example\uff1a\uff1a\"2019-01-01 10:00:00\"\n- endTime:  end time of the data you need \u3002Example\uff1a\"2019-01-01 22:00:00\"\n</code></pre> <p>| Response Body:</p> <pre><code>{\n    msg_code: 200,\n    msg_info: \"success\",\n    data: [{\n        plaza_unid: \"83c2266f-a29b-478a-8a59-2ed54e144641\",  // unid of store\n        gate_unid: \"12c2266f-a29b-478a-8a59-2ed54e176533\",   // unid of store-entrance\n        countdate: \"2018-01-01\",                             // date\n        counttime: \"2018-01-01 10:00:00\",                    // datetime\n        innum: 19,                                           // Total Traffic IN\n        outnum: 20,                                          // Total Traffic OUT\n        outside_innum: 50,                                   // Traffic outside\n        outside_outnum: 40,                                  // Traffic outside\n        customer: 16,                                        // Total Customer IN\n        customer_repeat: 1,                                  // Total Customer Repeats IN\n        customer_out: 18                                     // Total Customer OUT\n        customer_out_repeat: 1,                              // Total Customer Repeats OUT\n        staff: 2,                                            // Total Staff IN\n        staff_out: 1                                         // Total Staff OUT\n    },\n    {\n        plaza_unid: \"83c2266f-a29b-478a-8a59-2ed54e144641\",\n        gate_unid: \"12c2266f-a29b-478a-8a59-2ed54e176533\",\n        countdate: \"2018-01-01\",\n        counttime: \"2018-01-01 10:00:00\",\n        innum: 26,\n        outnum: 28,\n        outside_innum: 50,\n        outside_outnum: 40,\n        customer: 20,\n        customer_repeat: 4,\n        customer_out: 19,\n        customer_out_repeat: 7,\n        staff: 2,\n        staff_out: 2\n    }]\n}\n</code></pre>"},{"location":"guide/api/#9-store-entrance-hourly-customer-segment-data","title":"9. Store-Entrance Hourly Customer Segment Data","text":"<p>You can get all the Store-Entrance Hourly Customer data from this interface.</p> <p>The params startTime and endTime must be in one day And if you want more data in serval days,you should call this interface more times.</p> <p>| <code>Verb</code>: GET | <code>Path</code>: api/v1/face/gateHour | <code>Header</code>: (authorization, {$atoken}) | Request Params: </p> <pre><code>- plaza_unid: unid of store\u3002Example\uff1a8734758a-e0b0-11e8-b6e8-7cd30ac4c9a6\n- gate_unid: unid of entrance. Example: aaaaaa-bbbb-cccc-dddd-assassaas\n- startTime: start time of the data you need \u3002Example\uff1a\uff1a\"2019-01-01 10:00:00\"\n- endTime:  end time of the data you need \u3002Example\uff1a\"2019-01-01 22:00:00\"\n</code></pre> <p>| Response Body:</p> <pre><code>{\n    msg_code: 200,\n    msg_info: \"success\",\n    data: [\n    {\n        plaza_unid: \"123123\",   // unid of store\n        gate_unid:\"456456\",       // unid of store-entrance\n        countdate: \"2019-01-01\",     // date\n        counttime:\"2019-01-01 10:00:00\", // datetime\n        totalnum: 11,                            // total(customer &amp; staff) number with repeat\n        totalcount: 9,                           // total(customer &amp; staff) number without repeat\n        customerMantime: 9,                      // customer number with repeat\n        customer: 8,                             // customer number without repeat\n        maleCount: 1,                            // male customer without repeat\n        femalCount: 7,                           // female customer without repeat\n        maleMantime: 1,                          // male customer with repeat\n        femaleMantime: 8,                        // female customer with repeat\n        staffMantime: 2,                         // staff with repeat\n        staffCount: 1,                           // staff without repeat\n        male_stage:\"0,0,0,0,0,0,0,0,12,1,2,3,2,4,0,0,1\uff0c\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\",  // male age detail, first is age 0, last is age 100\n        female_stage:\"0,0,0,0,0,0,0,0,12,1,2,3,2,4,0,0,1\uff0c\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\", // female age detail, first is age0, last is age 100\n    }\n}\n</code></pre>"},{"location":"guide/api/#10-capture-record","title":"10. Capture record","text":"<p>| <code>Verb</code>: GET  | <code>Path</code>: api/v2/captureRecord  | <code>Header</code>: (authorization, {$atoken})  | Request Params:     - plazaUnid: unid of store\u3002Example\uff1a8734758a-e0b0-11e8-b6e8-7cd30ac4c9a6     - countdate: date \uff0cExample\uff1a2018-01-01   -  | Response Body:</p> <pre><code>{\n    \"code\": 200,\n    \"msg\": \"\",\n    \"success\": true,\n    \"data\": [\n         {\n                \"unid\": \"12c2266f-a29b-478a-8a59-2ed54e176533\",              //unid\n                \"personUnid\": \"12c2266f-a29b-478a-8a59-2ed54e176533\",    //personUnid\n                \"gateUnid\": \"aaaabbbb-cccc-ddd\",        // unid of gate\n                \"plazaUnid\": \"dddeeeee-cccc-ddd\",        // unid of store\n                \"age\": 27,                            \n                \"gender\": 1,                            //  1\uff1amale 0\uff1afemale -1\uff1aunknow\n                \"direction\": 1,                            // 1\uff1ain -1\uff1aout\n                \"counttimeLocal\": \"2022-12-31 01:00:00\",        // time\n                \"countdate\": \"2022-12-31\"        // date\n            },\n          {\n                \"unid\": \"12c2266f-a29b-478a-8a59-2ed54e176533\",\n                \"personUnid\": \"12c2266f-a29b-478a-8a59-2ed54e176533\",\n                \"gateUnid\": \"aaaabbbb-cccc-ddd\",\n                \"plazaUnid\": \"dddeeeee-cccc-ddd\",\n                \"age\": 27,\n                \"gender\": 1,\n                \"direction\": 1,\n                \"counttimeLocal\": \"2022-12-31 01:00:00\",\n                \"countdate\": \"2022-12-31\"\n            }\n  ]\n}\n</code></pre>"},{"location":"guide/api/#11-in-store-area-data","title":"11. In-store area data","text":"<p>| <code>Verb</code>: GET  | <code>Path</code>: api/v2/zoneStat  | <code>Header</code>: (authorization, {$atoken})  | Request Params:     - plazaUnid: unid of store\u3002Example\uff1a8734758a-e0b0-11e8-b6e8-7cd30ac4c9a6     - countdate: date \uff0cExample\uff1a2018-01-01   -  | Response Body:</p> <pre><code>{\n    \"code\": 200,\n    \"msg\": \"\",\n    \"success\": true,\n    \"data\": [\n          {\n                \"zoneUnid\": \"12c2266f-a29b-478a-8a59-2ed54e176533\",              //unid of zone\n                \"zoneName\": \"zonename 2\",                                //name of zone\n                \"personMantime\": 62,                       //traffic passenger\n                \"personCount\": 40,                        //visitors\n                \"stopPersonCount\": 27,                            // long dwell visitors\n                \"totalResidenceTime\": 1040,                //total dwell time (seconds)           \n                \"avgResidenceTime\": 26                     //average dwell time (seconds)       \n          },\n          {\n                \"zoneUnid\": \"12c2266f-a29b-478a-8a59-xxxxxxxxx\",\n                \"zoneName\": \"zonename 2\",\n                \"personMantime\": 62,\n                \"personCount\": 40,\n                \"stopPersonCount\": 27,\n                \"totalResidenceTime\": 1040,\n                \"avgResidenceTime\": 26\n         }\n  ]\n}\n</code></pre>"},{"location":"guide/api/#12-store-daily-customer-segment-data","title":"12. Store Daily Customer Segment Data","text":"<p>| <code>Verb</code>: GET  | <code>Path</code>: api/v2/passenger/plazaDay  | <code>Header</code>: (authorization, {$atoken})  | Request Params:     - plazaUnid: unid of store\u3002Example\uff1a8734758a-e0b0-11e8-b6e8-7cd30ac4c9a6     - startDate: date \uff0cExample\uff1a2018-01-01     - endDate: date \uff0cExample\uff1a2018-01-01  | Response Body:</p> <pre><code>{\n  \"code\": 200,\n  \"msg\": \"\",\n  \"success\": true,\n  \"data\": [\n    {\n      \"plazaUnid\": \"83c2266f-a29b-478a-8a59-2ed54e144641\", //unid of store\n      \"plazaExternalid\": \"1001001001\", // external id of store\n      \"plazaName\": \"testName\", // name of store\n      \"countdate\": \"2018-01-01\", //date\n      \"innum\": 100, //total traffic IN\n      \"outnum\": 100, //total traffic OUT\n      \"outsideNum\": 2000, // total traffic outside\n      \"customerNum\": 12313, //total customer IN\n      \"staffCount\": 1000, // total staff IN\n      \"deepShoppingNum\": 50, // long dwell visitors\n      \"deepShoppingRate\": 5.4, // long dwell rate\n      \"residenceTimeSecond\": 120, // sum of residence time\n      \"groupName\": \"test\", // name of group\n      \"modifyTime\": \"2022-01-01 14:00:10\", //data update time\n    }\n    // ... ...\n  ]\n}\n</code></pre>"},{"location":"guide/api/#13entrance-daily-demographics-data-v2","title":"13.Entrance Daily Demographics Data (V2)","text":"<p>Can support two time parameters to obtain entrance daily data. 1. Get data within a period of time based on startDate and endDate. Based on interface performance considerations, cross-day data query is not supported for the time being. 2. Obtain data updated after a certain point in time based on modifyTime. The data date is within three days and has been updated.</p> <p>Method\uff1a<code>GET</code> Path\uff1a<code>/api/v2/reid/gateDay</code> Header\uff1a<code>{Authorization\uff1a{atoken}}</code> Request\uff1a</p> <p>Note:When querying data for a certain time period, you only need to pass the parameters startDate and endDate. Start time and end time must be on the same day. When querying data after the data update time, you only need to pass the parameter modifyTime. modifyTime only supports queries for data updated within three days. Data three days ago needs to be obtained using startDate and endDate.</p> Field Type Necessary Demo Remark plazaUnid string YES mall unique code gateUnid string NO entrance unique code, if no this field will return all entrance startDate string NO 2022-12-31 start date endDate string NO 2022-12-31 end date modifyTime string NO 2022-12-31 10:00:00 last modify time <p>Response\uff1a</p> <pre><code>{\n    \"code\": 200,\n    \"msg\": \"\",\n    \"success\": true,\n    \"data\": [\n    {\n        \"plazaUnid\": \"83c2266f-a29b-478a-8a59-2ed54e144641\",      //mall unique code\n        \"gateUnid\":\"5632266f-a29b-478a-8a59-2ed54e13256\",         //entrance unique code\n        \"gateExternalid\":\"1001001001\",                           //entrance external code\n        \"countdate\": \"2018-01-01\",                                 //date\n        \"customerNum\": 100,                                      //unique visitors\n        \"gender\": {\n             \"maleCount\": 100,                                         //male visitors\n             \"femalCount\": 100                                         //female visitors\n        },\n        \"age\": {\n            \"juvenile\": [100, 200],                                    // juvenile(to 18) [male,female]\n            \"youth\": [100, 200],                                       // youth(19-45) [male,female]\n            \"middleAged\": [100, 200],                                  // middleAged(46-60) [male,female]\n            \"elderly\": [100, 200]                                      // elderly(60 above) [male,female]\n        },\n        \"modifyTime\": \"2022-01-01 14:00:10\"                           //last modify time\n    }\n    ... ...\n    ]\n}\n</code></pre>"},{"location":"guide/api/#14entrance-hourly-demographics-data-v2","title":"14.Entrance Hourly Demographics Data (V2)","text":"<p>Can support two time parameters to obtain entrance hourly data. 1. Get data within a period of time based on startTime and endTime. Based on interface performance considerations, cross-day data query is not supported for the time being. 2. Obtain data updated after a certain point in time based on modifyTime. The data date is within three days and has been updated.</p> <p>Method\uff1a<code>GET</code> Path\uff1a<code>/api/v2/reid/gateHour</code> Header\uff1a<code>{Authorization\uff1a{atoken}}</code> Request\uff1a</p> <p>Note:When querying data for a certain time period, you only need to pass the parameters startTime and endTime. Start time and end time must be on the same day. When querying data after the data update time, you only need to pass the parameter modifyTime. modifyTime only supports queries for data updated within three days. Data from three days ago needs to be obtained using startTime and endTime.</p> Field Type Necessary Demo Remark plazaUnid string YES mall unique code gateUnid string NO entrance unique code, if no this field will return all entrance startTime string NO 2022-12-31 10:00:00 start time endTime string NO 2022-12-31 22:00:00 end time modifyTime string NO 2022-12-31 10:00:00 last modify time <p>Response\uff1a</p> <pre><code>{\n    \"code\": 200,\n    \"msg\": \"\",\n    \"success\": true,\n    \"data\": [\n    {\n        \"plazaUnid\": \"83c2266f-a29b-478a-8a59-2ed54e144641\",      //mall unique code\n        \"gateUnid\":\"5632266f-a29b-478a-8a59-2ed54e13256\",         //entrance unique code\n        \"gateExternalid\":\"1001001001\",                           //entrance external code\n        \"countdate\": \"2018-01-01\",                                 //date\n        \"counttimeLocal\": \"2018-01-01 18:00:00\",                   //local time\n        \"customerNum\": 100,                                      //unique visitors\n        \"gender\": {\n             \"maleCount\": 100,                                         //male visitors\n             \"femalCount\": 100                                         //female visitors\n        },\n        \"age\": {\n            \"juvenile\": [100, 200],                                    // juvenile(to 18) [male,female]\n            \"youth\": [100, 200],                                       // youth(19-45) [male,female]\n            \"middleAged\": [100, 200],                                  // middleAged(46-60) [male,female]\n            \"elderly\": [100, 200]                                      // elderly(60 above) [male,female]\n        },\n        \"modifyTime\": \"2022-01-01 14:00:10\"                           //last modify time\n    }\n    ... ...\n    ]\n}\n</code></pre>"},{"location":"guide/api/#15heatmap","title":"15.Heatmap","text":"<p>Store Heatmap Data</p> <p>Method\uff1a<code>GET</code> Path\uff1a<code>/api/v2/heatMap</code> Header\uff1a<code>{Authorization\uff1a{atoken}}</code> Request\uff1a</p> Field Type Necessary Demo Remark plazaUnid string Yes Unique store code countdate string Yes yyyy-MM-dd Statistical date personType array No 0,1,-99 type\uff1avisitor: 0; staff:1; unknown: -99 genders array No 1,0 gender\uff1amale 1 female 0 ages array No 0-18,19-35,36-55,56-100 Age groups\uff1a0-18,19-35,36-55,56-100 <p>Response\uff1a</p> <pre><code>{\n    \"code\": 200,\n    \"msg\": \"\",\n    \"success\": true,\n    \"data\": [\n    {\n      \"imgUrl\": \"http://xxxx.com/a.img\", //layout\n      \"heat\": [\n          {\n                \"residenceTimeTotal\": 48.2,        // total dwell time\uff0cunit:seconds\n                \"rx\": 50.4,        // x,y coordinate\n                \"ry\": 41.4\n            },\n          {\n                \"residenceTimeTotal\": 15.36,\n                \"rx\": 50.4,\n                \"ry\": 41.2\n            }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"guide/api/#16entrance-visitor-flow","title":"16.Entrance Visitor Flow","text":"<p>Visitor flow between entrances</p> <p>Method\uff1a<code>GET</code> Path\uff1a<code>/api/v2/gateFlowDirection</code> Header\uff1a<code>{Authorization\uff1a{atoken}}</code> Request\uff1a</p> Field Type Necessary Demo Remark plazaUnid string YES mall unique code countdate string YES 2022-12-31 Date <p>Response\uff1a</p> <pre><code>{\n    \"code\": 200,\n    \"success\": true,\n    \"message\": \"success\",\n    \"data\": [\n        {\n            \"source\": \"a\",        // entrance name\n            \"target\": \"b\",        // entrance name\n            \"value\": 1            // counts\n        },\n        {\n            \"source\": \"a\",\n            \"target\": \"c\",\n            \"value\": 2\n        },\n        {\n            \"source\": \"b\",\n            \"target\": \"c\",\n            \"value\": 4\n        },\n        {\n            \"source\": \"c\",\n            \"target\": \"a\",\n            \"value\": 3\n        }\n    ]\n}\n\n</code></pre>"},{"location":"guide/api/#17store-zone-data","title":"17.Store zone data","text":"<p>Method\uff1a<code>GET</code> Path\uff1a<code>/api/v2/zoneStat</code> Header\uff1a<code>{Authorization\uff1a{atoken}}</code> Request\uff1a</p> Field Type Necessary Demo Remark plazaUnid string YES mall unique code countdate string YES 2022-12-31 Date <p>Response\uff1a</p> <pre><code>{\n    \"code\": 200,\n    \"msg\": \"\",\n    \"success\": true,\n    \"data\": [\n    {\n        \"zoneUnid\": \"12c2266f-a29b-478a-8a59-2ed54e176533\",              //Unique zone code\n        \"zoneName\": \"test1\",                                //zone name\n        \"personMantime\": 62,                            // counts\n        \"customerMantime\": 50,                            // traffic counts\n        \"personCount\": 40,                            // visitor counts\n        \"staffMantime\": 33,                            // staff counts\n        \"stopPersonCount\": 27,                            // longdwell visitor counts\n        \"totalResidenceTime\": 1040,                            // total dwell time\n        \"avgResidenceTime\": 26,                            // average dwell time\n        \"age\": {\n          \"juvenile\": [1, 0],                    // juvenile,male/female\n          \"youth\": [9, 6],                    // youth, male/female\n          \"middleAged\": [0, 1],                // middleAged,male/female\n          \"elderly\": [0, 1]                    // elderly,male/female\n         },\n         \"gender\": {\n           \"maleCount\": 10,                    //male counts\n           \"femaleCount\": 8                    //female counts\n        }\n    },\n    {\n        \"zoneUnid\": \"12c2266f-a29b-478a-8a59-xxxxxxxxx\",\n        \"zoneName\": \"testing2\",\n        \"personMantime\": 62,\n        \"personCount\": 40,\n        \"stopPersonCount\": 27,\n        \"totalResidenceTime\": 1040,\n        \"avgResidenceTime\": 26,\n        \"age\": {\n          \"juvenile\": [1, 0],\n          \"youth\": [9, 6],\n          \"middleAged\": [0, 1],\n          \"elderly\": [0, 1]\n        },\n        \"gender\": {\n          \"maleCount\": 10,\n          \"femaleCount\": 8\n       }\n    }\n    ]\n}\n</code></pre>"},{"location":"guide/api/#18zone-info","title":"18.Zone info","text":"<p>Method\uff1a<code>GET</code> Path\uff1a<code>/api/v2/base/zoneInfo</code> Header\uff1a<code>{Authorization\uff1a{atoken}}</code> Request\uff1a</p> Field Type Necessary Demo Remark plazaUnid string YES mall unique code <p>Response\uff1a</p> <pre><code>{\n    \"code\": 200,\n    \"msg\": \"\",\n    \"success\": true,\n    \"data\": [\n        {\n            \"plazaUnid\": \"d7c14e06-fc14-11eb-84f5-00e0533102b4\", //mall unique code\n            \"zoneUnid\": \"72b3e6ce-04c8-11ec-86bf-00e0533102b4\",  //Unique zone code\n            \"zoneName\": \"test\",                             //zone name\n            \"zoneExternalid\": \"\",                                //zone external code\n            \"zoneStatus\": 1                                      //zone status\uff1a1-activate\uff0c2-deactivate\n            \"channel\": [\n                {\n                    \"rareaInfo\": \"coordinate json\"\n                }\n            ]\n        },\n        ...\n    ]\n}\n</code></pre>"},{"location":"guide/api/#19store-zone-hourly-data","title":"19.Store zone hourly data","text":"<p>Method\uff1a<code>GET</code> Path\uff1a<code>/api/v2/zoneHourStat</code> Header\uff1a<code>{Authorization\uff1a{atoken}}</code> Request\uff1a</p> Field Type Necessary Demo Remark plazaUnid string YES mall unique code countdate string YES 2022-12-31 Date <p>Response\uff1a</p> <pre><code>{\n    \"code\": 200,\n    \"msg\": \"\",\n    \"success\": true,\n    \"data\": [\n    {\n        \"zoneUnid\": \"12c2266f-a29b-478a-8a59-2ed54e176533\",              //Unique zone code\n        \"zoneName\": \"test1\",                                //zone name\n        \"counttimeLocal\": \"2025-01-23 22:00:00\",          // datetime\n        \"personMantime\": 62,                            // counts\n        \"personMantimeOut\": 62,                            // counts out\n        \"customerMantime\": 50,                            // traffic counts\n        \"customerMantimeOut\": 50,                            // traffic counts out\n        \"personCount\": 40,                            // visitor counts\n        \"personCountOut\": 40,                            // visitor counts out\n        \"staffMantime\": 33,                            // staff counts\n        \"staffMantimeOut\": 33,                            // staff counts out\n        \"age\": {\n          \"juvenile\": [1, 0],                    // juvenile,male/female\n          \"youth\": [9, 6],                    // youth, male/female\n          \"middleAged\": [0, 1],                // middleAged,male/female\n          \"elderly\": [0, 1]                    // elderly,male/female\n         },\n         \"gender\": {\n           \"maleCount\": 10,                    //male counts\n           \"femaleCount\": 8                    //female counts\n        }\n    }\n    ...\n    ]\n}\n</code></pre>"},{"location":"guide/api/#20device-info","title":"20.Device Info","text":"<p>Method\uff1a<code>GET</code> Path\uff1a<code>/api/v1/base/device</code> Header\uff1a<code>{Authorization\uff1a{atoken}}</code> Request\uff1a</p> Field Type Necessary Demo Remark plazaUnid string YES mall unique code <p>Response\uff1a</p> <pre><code>{\n    \"msg_code\": 200,\n    \"msg_info\": \"this is info\"\n    \"data\": [\n        {\n            \"serialnum\": \"1FC9-FAB4-712C-7053\",             //serialnum\n            \"name\": \"192.168.5.134\",                        //name\n            \"channel_count\": 1,                             //Number of device channels\n            \"mac\": \"00-10-ff-12-43-12\",                     //mac\n            \"status\": 1,                                    //status\uff1a0-offline\uff0c1-online\uff0c3-disable\n            \"local_ip\": \"192.168.2.123\",                    //ip\n            \"modify_time\": \"2018-01-01 00:00:00\"            //modify time\n        },\n        ...\n    ]\n}\n</code></pre> <ol> <li> <p>This is a footnotes!\u00a0\u21a9</p> </li> </ol>"},{"location":"guide/bi-platform/","title":"BI Platform","text":""},{"location":"guide/bi-platform/#1-overview","title":"1. Overview","text":""},{"location":"guide/bi-platform/#11-guidebook-introduction","title":"1.1 Guidebook Introduction","text":"<p>This documentation is intended to introduce the basic instructions for using the retail people counting and footfall analytics BI (Business Intelligence) platform of Beijing Vion Technology Inc, including how to login to the system correctly on the PC, how to configure organizational relationships in the early stage of the system establishment, how to create user relationships within a retail conglomerate, how to view the data reports, and the specific meanings of each report.</p>"},{"location":"guide/bi-platform/#2-platform-specifications","title":"2. Platform Specifications","text":""},{"location":"guide/bi-platform/#21-explanation-of-nouns","title":"2.1 Explanation of Nouns","text":"<p>Cloud Platform: refers to the people counting and footfall analytics BIplatform which is operated and maintained by our company and provides footfall analytics data query and export services.Atpresent,the cloud platform maintained by our company is divided into commercial platform and retail chain/franchise platform. Group: refers to the highest resource leve lof aproject,generally corresponding to a commercial group or retail chain/franchise group.Its dataauthority is generally open to the group  headquarters operations department.There can be multiple shops under it. Shop: a single retail shop.</p>"},{"location":"guide/bi-platform/#22-precautions","title":"2.2 Precautions","text":"<p>The people counting and footfall analytics BI platform\u2019s access requires authorization. Before using the system, first ensure that you have obtained a legitimate account and password.</p>"},{"location":"guide/bi-platform/#3-system-functionalities","title":"3. System Functionalities","text":""},{"location":"guide/bi-platform/#31-data-dashboard","title":"3.1 Data Dashboard","text":""},{"location":"guide/bi-platform/#311-group-homepage","title":"3.1.1 Group Homepage","text":"<p>Group is the highest resource level of project data. On the Group Homepage, you can view the summary and ranking of all stores traffic in the country. This functionality is provided to the administrators of the group/conglomerate category of the multi-store project, and can be ignored by the users of a single store in general. - Support switching time to view the group data in different time ranges; - Switch the card indicators to view the trend graph of different indicators. </p>"},{"location":"guide/bi-platform/#312-store-homepage","title":"3.1.2 Store Homepage","text":"<p>The store homepage is a summary page of single store\u2019s footfall analytics data. It mainly includes basic information such as core index data, customer flow trend, and customer/group percentage, etc.. - Support switching time to view store data in different time ranges; - Switch the card indicators to view the trend graph of different indicators. </p>"},{"location":"guide/bi-platform/#32-data-reports","title":"3.2 Data Reports","text":""},{"location":"guide/bi-platform/#321-group-data","title":"3.2.1 Group Data","text":"<ul> <li>Group data summarizes the footfall analytics data of the stores in each regional city under the group;</li> <li>It supports to view by regional grouping, and support to view the details of the footfall analytics data by store;</li> <li>Action Path: Login to the Platform - Report - Basic Analysis - Group Data and find the corresponding menu;</li> <li>Operation Methodology: select the grouping object of query and time, time granularity, click the Search button;</li> <li>Click the Download button, to extract the report data (excel format) or images. </li> </ul>"},{"location":"guide/bi-platform/#322-store-data","title":"3.2.2 Store data","text":"<ul> <li>Store data summarizes the passers-by traffics, entry traffics, number of unique customers, staff quantity, entry rate, long-dwelled customer traffics, long-dwelled rate, and other indicators of a single store;</li> <li>Action Path: Login to the Platform - Reports - Basic Analysis - Store Data and find the corresponding menu;</li> <li>Operation Methodology: select the store, time and time granularity of the Search and click the Search button;</li> <li>Support chart switching;</li> <li>Click the Download button, then extract the report data (excel format) or pictures.</li> <li> <p>Select different time granularity to display different statistical dimensions. Hourly level displays the number of new customers per hour; minute level displays the number of new customers per ten minutes. </p> </li> <li> <p>Traffic Funnel</p> </li> <li>The Customer Traffic Funnel Analysis measures the visitor counts that have been converted into each stage of the consumption stages from passers-by to the paid conversion.</li> <li>Action Path: Login to the Platform - Reports - Basic Analysis - Conversion Funnel and find the corresponding menu;</li> <li>Operation Methodology: select the store, time and time granularity of the Search and click the Search button;</li> <li> <p>Support funnel visualization; </p> </li> <li> <p>And able to view the detailed infos as in the KPI Comparsion, Counts Detials, Weekly Avg. Counts by Hourly/Monthly Data, Entry Rate and Data Report in the same column under Basic Analysis. </p> </li> </ul>"},{"location":"guide/bi-platform/#323-cross-store-comparison","title":"3.2.3 Cross-store Comparison","text":"<ul> <li>Cross-store Comparison is to compare the footfall analytics data of multiple stores, supporting such indicators as passers-by traffics, entry traffics, number of unique customers, staff quantity, entry rate, long-dwelled customer traffics, long-dwelled rate, and other indicators of multiple stores;</li> <li>Action Path: Login to the Platform - Reports - Contrast Analysis - Comparison Analysis, and find the corresponding menu;</li> <li>Operation method: select the store, time and time granularity of the Search and click the Search button;</li> <li>Support chart switching;</li> <li>Click the Download button, then extract the report data excel format;</li> <li>Select different time granularity to display different statistical dimensions. Hourly level displays the number of new customers per hour; minute level displays the number of new customers per ten minutes. </li> </ul>"},{"location":"guide/bi-platform/#324-store-ranking","title":"3.2.4 Store Ranking","text":"<ul> <li>Store Ranking is a ranking of the footfall anlytics data of multiple stores, supporting such indicators as passers-by traffics, entry traffics, number of unique customers, staff quantity, entry rate, long-dwelled customer traffics, long-dwelled rate, and other indicators of multiple stores;</li> <li>Action Path: Login to the Platform - Reports - Basic Analysis - Store Ranking and find the corresponding menu;</li> <li>Operation Methodology: select the Group and time of the Search and click the Search button;</li> <li>Click the Filtering button next to the indicators to support the ranking of stores according to different indicators in positive and reverse order;</li> <li>Click Details button to jump to the home page of store data. </li> </ul>"},{"location":"guide/bi-platform/#325-dwell-time-distribution-and-statistics","title":"3.2.5 Dwell Time Distribution and Statistics","text":"<ul> <li>The dwell time period that traffic distribution shows the average traffics heat of each hour from Monday to Sunday;</li> <li>Action Path: Login to the Platform - Reports - Basic Analysis - Dwell Time, and find the corresponding menu;</li> <li>Operation Methodology: select the object of query, time, and click the Search button;</li> <li>Click the Download button, then extract the report data (excel format) or pictures;</li> <li>The darker the color, the higher the passenger flow during the time. </li> </ul>"},{"location":"guide/bi-platform/#327-store-index-analysis","title":"3.2.7 Store Index Analysis","text":"<ul> <li>Display the percentage of customers in the store at different dwell times according to the store dwell time period settings;</li> <li>Indicator growth analysis page displays year-on-year and retail chain/franchise comparison data of indicators in different time ranges, and supports data export;</li> <li>Action Path: Login to the Platform - Reports - Contrast Analysis - Store Index Analysis, and find the corresponding menu;</li> <li>Operation Methodology: select the query object, indicator and time, and click the Search button;</li> <li>Support customized filtering according to time;</li> <li>Support data export through Download button. </li> </ul>"},{"location":"guide/bi-platform/#328-inout-traffic-comparison","title":"3.2.8 In&amp;out Traffic Comparison","text":"<ul> <li>In&amp;out Traffic Comparison page displays the data comparison of incoming and outgoing customer flow of the store in each hour of the day;</li> <li>Action Path: Login to the Platform - Reports - Contrast Analysis - In&amp;out Traffic Comparison, and find the corresponding menu;</li> <li>Operation Methodology: select the store, index and time of query, and click the Search button;</li> <li>Support multi-selection of stores;</li> <li>Support chart switching;</li> <li>Click the Download button, then extract the report data (excel format). </li> </ul>"},{"location":"guide/bi-platform/#329-weekday-and-weekend-comparison","title":"3.2.9 Weekday and Weekend Comparison","text":"<ul> <li>Store traffic fluctuates regularly between weekdays and weekends. In order to understand the time pattern of potential customers and the active situation on weekends, the weekly growth of weekend traffic will be counted.</li> <li>Support any weekly query through Filtering and Search;</li> <li>Support icon and excel export through Download. </li> </ul>"},{"location":"guide/bi-platform/#3210-holiday-and-festive-analysis","title":"3.2.10 Holiday and Festive Analysis","text":"<ul> <li>Holiday and Festive Analysis page shows the average customer flow and growth rate during the holiday/festival/activity period and supports data export;</li> <li>Activity holidays are set in the background management - holiday/festive/activity management, supporting the import of traditional holidays and customized activity cycle;</li> <li>Action Path: Login to the Platform - Reports - Holiday Comparison - Holiday Comparison or Festive Analysis, and find the corresponding menu;</li> <li>Operation Methodology: select the query store, time (year), click the Search button;</li> <li>Activity holidays are set in the background management - activity management;</li> <li>Click the Download button, then extract the report data (excel format) or pictures. </li> </ul>"},{"location":"guide/bi-platform/#3211-demographics-reid-in-agegender-segmentations","title":"3.2.11 Demographics (ReID) in Age/Gender Segmentations","text":"<ul> <li>Through the non-biometric ReID analysis of the store customers, it derives the age and gender distribution of the store's customer base, as well as information related to the store staff.</li> <li>Supports multi-store, daily, weekly, monthly, yearly, and customized date data view.</li> <li>Support switching between summary data and day-level data (weekly, monthly, yearly, customized date).</li> <li>Supports table and image switching and exporting through Filtering, Search and Download.</li> <li>Support to view multi-day data. </li> </ul>"},{"location":"guide/bi-platform/#3212-store-heatmap-reid","title":"3.2.12 Store Heatmap (ReID)","text":"<ul> <li>Through the wide application of our non-biometric ReID tehcnology, combined with the area covered by the extisting/AIoT camera irradiation can be derived the number of people in each area at different times. By way of heat distribution presents the length of time customers dwelled in different locations of the store.</li> <li>Support switching between different stores and dates to view the data.</li> <li>Support to present heat effect on store plan and 3D map </li> </ul>"},{"location":"guide/bi-platform/#3213-zone-analysis-reid","title":"3.2.13 Zone Analysis (ReID)","text":"<ul> <li>Through the wide application of our non-biometric ReID tehcnology, combined with the area covered by the extisting/AIoT camera irradiation can be derived the number of people in each area at different times.</li> <li>According to the division of the store partition, statistics on the number of customers in each area, the number of people dwelled, the dwell time, and other information;</li> <li>Support switching between different stores and dates to view the data.</li> <li>Support to present heat effect on store plan and 3D map. </li> </ul>"}]}